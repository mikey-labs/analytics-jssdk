var ze=Object.defineProperty;var be=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var we=(e,r,t)=>r in e?ze(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,S=(e,r)=>{for(var t in r||(r={}))$e.call(r,t)&&we(e,t,r[t]);if(be)for(var t of be(r))qe.call(r,t)&&we(e,t,r[t]);return e};var d=(e,r,t)=>new Promise((o,n)=>{var s=c=>{try{a(t.next(c))}catch(l){n(l)}},i=c=>{try{a(t.throw(c))}catch(l){n(l)}},a=c=>c.done?o(c.value):Promise.resolve(c.value).then(s,i);a((t=t.apply(e,r)).next())});var J=class{constructor(r){this.factory={};this.records=[];this.ctx=r}addCommand(r,t){this.factory[r]=t}execute(r){return d(this,null,function*(){let[...t]=r;this.records.push(t);let[o,...n]=t;typeof o=="function"?o(this.ctx):yield this.factory[o].execute(...n)})}};function D(e,r){let t={};return Object.keys(e).map(o=>{r.hasOwnProperty(o)&&(t[o]=r[o])}),Object.assign(e,t)}var He=(e,r,t)=>new Promise((o,n)=>{var s=c=>{try{a(t.next(c))}catch(l){n(l)}},i=c=>{try{a(t.throw(c))}catch(l){n(l)}},a=c=>c.done?o(c.value):Promise.resolve(c.value).then(s,i);a((t=t.apply(e,r)).next())});function We(){let e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substring(0,4))}var w=typeof window<"u"&&"onload"in window,Xe=w&&typeof window.fetch=="function",bt=w&&typeof window.FileReader<"u",wt=w&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),yt=w&&/MSIE [1-9]\./.test(navigator.userAgent),St=(e=>{try{return w&&typeof e.localStorage<"u"&&typeof e.sessionStorage<"u"}catch(r){return!1}})(window),Te=w&&We(),Et=w&&"IntersectionObserver"in window,At=w&&typeof window.postMessage=="function",Ke=e=>{let r=[];for(let t in e)r.push(`${t}=${e[t]}`);return r.join("&")};var Ve=(e,r)=>{if(!("parentNode"in e&&e.parentNode))return;let t=new MutationObserver(o=>{o.some(s=>Array.from(s.removedNodes).some(i=>i===e))&&(r.apply(null),t==null||t.disconnect(),t=null)});t.observe(e.parentNode,{childList:!0})},Ie=function(){return function(e,r,t,o=!1){e&&r&&t&&(document.addEventListener?e.addEventListener(r,t,o):e.attachEvent("on"+r,t))}}(),_e=function(){return function(e,r,t,o=!1){e&&r&&(document.removeEventListener?e.removeEventListener(r,t,o):e.detachEvent("on"+r,t))}}();var Ye=()=>new XMLHttpRequest;function Je(e,r){return fetch(e,r).then(t=>He(this,null,function*(){var o;if(t.status===200){let n=(o=t.headers.get("content-type"))!=null?o:"";return n.includes("application/json")?t.json():n.includes("text/plain")||n.includes("text/html")?t.text():t.blob()}else throw Error(yield t.text())}))}function Qe(e,r){let{method:t,body:o,headers:n,credentials:s,responseType:i}=r;return new Promise((a,c)=>{let l=Ye();l.open(t,e);for(let u in n)l.setRequestHeader(u,n[u]);l.withCredentials=s==="same-origin"||s==="include",l.send(o),l.responseType=i!=null?i:"",l.onreadystatechange=()=>{if(l.readyState===4)if(l.status===200)switch(l.responseType){case"":case"text":try{let u=JSON.parse(l.responseText);a(u)}catch(u){a(l.responseText)}break;case"document":a(l.responseXML);break;default:a(l.response);break}else c(l.response)}})}var ye=()=>Xe?Je:Qe,Ze=e=>Object.prototype.toString.call(e)==="[object Object]"?JSON.stringify(e):e,et=function(e,r,t={},o={}){let{credentials:n,headers:s,responseType:i}=o;switch(e.toUpperCase()){case"GET":let c=Ke(t);return c&&(r+=(r.includes("?")?"&":"?")+c),ye()(r,{method:e,credentials:n,responseType:i,headers:s});default:return ye()(r,{method:e,credentials:n,responseType:i,body:Ze(t),headers:s})}};var tt,rt,nt,ot;tt=new WeakMap;rt=new WeakMap;nt=new WeakSet;ot=function(){if(w)return et;throw new Error("HttpRequest only browsers are supported.")};var Q=function(e,r,t,o){Ie(e,r,t,o),Ve(e,()=>{_e(e,r,t,o)})};function Pe(e){function r(){e==null||e.call(this,document.visibilityState)}return Ie(window,"visibilitychange",r),{stop:_e.bind(window,window,"visibilitychange",r)}}var st={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},Se=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],Ee=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],Ae=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],Tt="fullscreenEnabled"in document&&Object.keys(st)||Se[0]in document&&Se||Ee[0]in document&&Ee||Ae[0]in document&&Ae||[];var it;it=new WeakMap;var E=class{constructor(r){this.trackingId=r}};var Z=class extends E{constructor(t){super(t);this.time=Date.now()}stop(){var t;(t=this.stopper)==null||t.call(this)}start(){this.stop();let{stop:t}=Pe(o=>{if(o==="hidden"){let n=Date.now()-this.time;n>=1e3&&window.ctag("send","page_timing",{page_timing_duration:n},this.trackingId)}else this.time=Date.now()});this.stopper=t}};var ee=class extends E{constructor(r){super(r)}start(){Q(window,"error",r=>{console.log(r)})}stop(){}};var te=class extends E{constructor(t){super(t);this.alreadySend=!1}start(){this.alreadySend||(window.ctag("send","screen_view",{page_name:document.title,screen_id:""},this.trackingId),this.alreadySend=!0)}stop(){}};var re=class{constructor(r,t){this.automaticallyData={};this.hTime=Date.now();this.config={stay_duration:!0,screen_view:!0,exception_report:!1,disable:!1};this.pageConfig={title:document.title,host:location.host,path:location.pathname,url:location.href,referrer:document.referrer};this.trackingId=r,this.triggers={stay_duration:new Z(r),exception_report:new ee(r),screen_view:new te(r)},t&&(this.config=D(this.config,t))}setAutomaticallyData(r){this.automaticallyData=Object.assign(this.automaticallyData,r)}setConfig(r){this.config=D(this.config,r),this.run(r)}setPageConfig(r){this.pageConfig=D(this.pageConfig,r)}run(r=this.config){let{stay_duration:t,exception_report:o,screen_view:n,disable:s}=r;if(s){this.stopAll();return}n?this.triggers.screen_view.start():this.triggers.screen_view.stop(),t?this.triggers.stay_duration.start():this.triggers.stay_duration.stop(),o?this.triggers.exception_report.start():this.triggers.exception_report.stop()}stopAll(){Object.keys(this.triggers).map(r=>{this.triggers[r].stop()})}};var h=class{constructor(r){this.ctx=r}};var j=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o){return d(this,null,function*(){if(!t)throw Error("Tracking ID can not be null!");if(this.ctx.getters.instance(t))throw Error(`This tracking ID:[${t}] has already been created!`);let n=new re(t,o),s=Object.keys(this.ctx.instances).length===0?R:t;this.ctx.instances[s]=n})}};j.NAME="create";var N=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o){let n=this.ctx.getters.instance(o);if(n)n.setConfig(t);else throw Error(`Can't find tracking instance ID:[${o}]!`)}};N.NAME="config";var U=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o){this.ctx.registerPlugin(t,o)}};U.NAME="install";var k=class extends h{constructor(t){super(t);this.ctx=t;this.version="1.0.0"}execute(t,o){var i;if(!t.includes("."))throw Error(`The param ${t} must have "." for separate module and name, e.g:instance.\${trackingId}`);let[n,s]=t.split(".");switch(n){case"instance":let a=s===((i=this.ctx.getters.instance())==null?void 0:i.trackingId)?R:s;o(delete this.ctx.instances[a]);break;case"plugin":o(delete this.ctx.plugins[s]);break;default:throw Error("The module name mush 'instance' or 'plugin'!")}}};k.NAME="remove";function Oe(e){let r=[];return Object.keys(e).reduce((t,o)=>{let n;switch(typeof e[o]){case"object":n=JSON.stringify(e[o]);break;case"undefined":n="";break;default:n=e[o]}return t.push(encodeURIComponent(o)+"="+encodeURIComponent(n)),t},r).join("&")}var at="https://www.zaobao.com/cg.gif",G=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o,n){return d(this,null,function*(){let s=this.ctx.getters.instance(n);if(!s)throw Error(`Can't find instance tracking ID:${n}!`);let{api_secret:i,api_version:a,user_id:c,api_host:l}=this.ctx.getters.globalConfig(),u={tracking_id:s.trackingId,api_secret:i,user_id:c,api_version:a,version:this.ctx.version,client_id:yield this.ctx.getters.clientId(),events:[{name:t,local_time_ms:Date.now(),params:S(S(S(S({},o),yield this.ctx.getters.measurement()),s.automaticallyData),s.pageConfig)}]};yield this.send(u,l)})}send(t,o){return d(this,null,function*(){let n=Oe(t),s=new Image;s.src=(o||at)+"?"+n})}};G.NAME="send";function Me(e,r){let t=Object.create(Array.prototype);t.push=function(...o){Array.prototype.push.apply(this,o),r(o)},e.__proto__=t}function Re(e){return d(this,null,function*(){Me(window.ctag.q,De.bind(e)),yield De.call(e)})}function De(){return d(this,null,function*(){for(;window.ctag.q.length>0;)yield this.executor.execute(window.ctag.q.shift())})}var z=class{constructor(r){}},L=class extends z{constructor(t){super();this.ctx=t}};function ne(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)e[o]=t[o]}return e}var ct={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ge(e,r){function t(n,s,i){if(!(typeof document>"u")){i=ne({},r,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,i[c]!==!0&&(a+="="+i[c].split(";")[0]));return document.cookie=n+"="+e.write(s,n)+a}}function o(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var s=document.cookie?document.cookie.split("; "):[],i={},a=0;a<s.length;a++){var c=s[a].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(i[u]=e.read(l,u),n===u)break}catch(m){}}return n?i[n]:i}}return Object.create({set:t,get:o,remove:function(n,s){t(n,"",ne({},s,{expires:-1}))},withAttributes:function(n){return ge(this.converter,ne({},this.attributes,n))},withConverter:function(n){return ge(ne({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var oe=ge(ct,{path:"/"});var b=class{};var ut=365,Le=gt(),lt=Le,dt=Le?"None":"Lax";function gt(){var e;try{return!Boolean((e=window==null?void 0:window.top)==null?void 0:e.location.href)}catch(r){return!0}}var F=class extends b{constructor({ttl:t=ut,secure:o=lt,sameSite:n=dt}={}){super();this._ready=!1;this.ttl=t,this.secure=o,this.sameSite=n,this._ready=!0}get(t){return d(this,null,function*(){let o=oe.get(t);return typeof o=="string"?o:void 0})}set(t,o){return d(this,null,function*(){oe.set(t,o,this._constructCookieParams())})}remove(t){return d(this,null,function*(){oe.remove(t,this._constructCookieParams())})}_constructCookieParams(){return{expires:this.ttl,secure:this.secure,sameSite:this.sameSite}}};function se(e){return new Promise((r,t)=>{e.oncomplete=e.onsuccess=()=>r(e.result),e.onabort=e.onerror=()=>t(e.error)})}function pe(e,r){let t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(r);let o=se(t);return(n,s)=>o.then(i=>s(i.transaction(r,n).objectStore(r)))}var fe;function me(){return fe||(fe=pe("keyval-store","keyval")),fe}function Fe(e,r=me()){return r("readonly",t=>se(t.get(e)))}function Be(e,r,t=me()){return t("readwrite",o=>(o.put(r,e),se(o.transaction)))}function je(e,r=me()){return r("readwrite",t=>(t.delete(e),se(t.transaction)))}var ft="ImmortalDB",pt="key-value-pairs",ie=class extends b{constructor(t=ft,o=pt){super();this._ready=!1;this.store=pe(t,o),this._ready=!0}get(t){return d(this,null,function*(){let o=yield Fe(t,this.store);return typeof o=="string"?o:void 0})}set(t,o){return d(this,null,function*(){yield Be(t,o,this.store)})}remove(t){return d(this,null,function*(){yield je(t,this.store)})}};var ae=class extends b{constructor(t){super();this._ready=!1;this.store=t,this._ready=!0}get(t){return d(this,null,function*(){return this.store.getItem(t)||void 0})}set(t,o){return d(this,null,function*(){this.store.setItem(t,o)})}remove(t){return d(this,null,function*(){this.store.removeItem(t)})}},ce=class extends ae{constructor(){super(window.localStorage)}},ue=class extends ae{constructor(){super(window.sessionStorage)}};var he="_immortal|",le=[new F];try{window.localStorage&&le.push(new ce)}catch(e){}try{window.sessionStorage&&le.push(new ue)}catch(e){}try{if(window.indexedDB){let e=new ie;le.push(e)}}catch(e){console.log(e)}var ve=class extends b{constructor(){super();this.stores=le;this._ready=!1;this._ready=this.stores.every(t=>t._ready)}get(t){return d(this,null,function*(){let o=`${he}${t}`,s=(yield Promise.all(this.stores.map(i=>d(this,null,function*(){try{return yield i.get(o)}catch(a){console.log(a)}})))).filter(i=>!!i)[0];if(s!==void 0)return yield this.set(t,s),s;yield this.remove(t)})}set(t,o){return d(this,null,function*(){return t=`${he}${t}`,yield Promise.all(this.stores.map(n=>d(this,null,function*(){try{yield n.set(t,o)}catch(s){console.log(s)}}))),o})}remove(t){return d(this,null,function*(){t=`${he}${t}`,yield Promise.all(this.stores.map(o=>d(this,null,function*(){try{yield o.remove(t)}catch(n){console.log(n)}})))})}},Ce=new ve;var q={version:"2.1.2",x86:{hash32:null,hash128:null},x64:{hash128:null}};function f(e,r){return(e&65535)*r+(((e>>>16)*r&65535)<<16)}function v(e,r){return e<<r|e>>>32-r}function $(e){return e^=e>>>16,e=f(e,2246822507),e^=e>>>13,e=f(e,3266489909),e^=e>>>16,e}function A(e,r){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],r=[r[0]>>>16,r[0]&65535,r[1]>>>16,r[1]&65535];let t=[0,0,0,0];return t[3]+=e[3]+r[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]+r[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]+r[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]+r[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}function x(e,r){e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535],r=[r[0]>>>16,r[0]&65535,r[1]>>>16,r[1]&65535];let t=[0,0,0,0];return t[3]+=e[3]*r[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]*r[3],t[1]+=t[2]>>>16,t[2]&=65535,t[2]+=e[3]*r[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]*r[3],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[2]*r[2],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[3]*r[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]*r[3]+e[1]*r[2]+e[2]*r[1]+e[3]*r[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}function B(e,r){return r%=64,r===32?[e[1],e[0]]:r<32?[e[0]<<r|e[1]>>>32-r,e[1]<<r|e[0]>>>32-r]:(r-=32,[e[1]<<r|e[0]>>>32-r,e[0]<<r|e[1]>>>32-r])}function C(e,r){return r%=64,r===0?e:r<32?[e[0]<<r|e[1]>>>32-r,e[1]<<r]:[e[1]<<r-32,0]}function p(e,r){return[e[0]^r[0],e[1]^r[1]]}function Ne(e){return e=p(e,[0,e[0]>>>1]),e=x(e,[4283543511,3981806797]),e=p(e,[0,e[0]>>>1]),e=x(e,[3301882366,444984403]),e=p(e,[0,e[0]>>>1]),e}q.x86.hash32=function(e,r){e=e||"",r=r||0;let t=e.length%4,o=e.length-t,n=r,s=0,i=3432918353,a=461845907,c;for(c=0;c<o;c=c+4)s=e.charCodeAt(c)&255|(e.charCodeAt(c+1)&255)<<8|(e.charCodeAt(c+2)&255)<<16|(e.charCodeAt(c+3)&255)<<24,s=f(s,i),s=v(s,15),s=f(s,a),n^=s,n=v(n,13),n=f(n,5)+3864292196;switch(s=0,t){case 3:s^=(e.charCodeAt(c+2)&255)<<16;case 2:s^=(e.charCodeAt(c+1)&255)<<8;case 1:s^=e.charCodeAt(c)&255,s=f(s,i),s=v(s,15),s=f(s,a),n^=s}return n^=e.length,n=$(n),n>>>0};q.x86.hash128=function(e,r){e=e||"",r=r||0;let t=e.length%16,o=e.length-t,n=r,s=r,i=r,a=r,c=0,l=0,u=0,m=0,P=597399067,O=2869860233,M=951274213,T=2716044179,g;for(g=0;g<o;g=g+16)c=e.charCodeAt(g)&255|(e.charCodeAt(g+1)&255)<<8|(e.charCodeAt(g+2)&255)<<16|(e.charCodeAt(g+3)&255)<<24,l=e.charCodeAt(g+4)&255|(e.charCodeAt(g+5)&255)<<8|(e.charCodeAt(g+6)&255)<<16|(e.charCodeAt(g+7)&255)<<24,u=e.charCodeAt(g+8)&255|(e.charCodeAt(g+9)&255)<<8|(e.charCodeAt(g+10)&255)<<16|(e.charCodeAt(g+11)&255)<<24,m=e.charCodeAt(g+12)&255|(e.charCodeAt(g+13)&255)<<8|(e.charCodeAt(g+14)&255)<<16|(e.charCodeAt(g+15)&255)<<24,c=f(c,P),c=v(c,15),c=f(c,O),n^=c,n=v(n,19),n+=s,n=f(n,5)+1444728091,l=f(l,O),l=v(l,16),l=f(l,M),s^=l,s=v(s,17),s+=i,s=f(s,5)+197830471,u=f(u,M),u=v(u,17),u=f(u,T),i^=u,i=v(i,15),i+=a,i=f(i,5)+2530024501,m=f(m,T),m=v(m,18),m=f(m,P),a^=m,a=v(a,13),a+=n,a=f(a,5)+850148119;switch(c=0,l=0,u=0,m=0,t){case 15:m^=e.charCodeAt(g+14)<<16;case 14:m^=e.charCodeAt(g+13)<<8;case 13:m^=e.charCodeAt(g+12),m=f(m,T),m=v(m,18),m=f(m,P),a^=m;case 12:u^=e.charCodeAt(g+11)<<24;case 11:u^=e.charCodeAt(g+10)<<16;case 10:u^=e.charCodeAt(g+9)<<8;case 9:u^=e.charCodeAt(g+8),u=f(u,M),u=v(u,17),u=f(u,T),i^=u;case 8:l^=e.charCodeAt(g+7)<<24;case 7:l^=e.charCodeAt(g+6)<<16;case 6:l^=e.charCodeAt(g+5)<<8;case 5:l^=e.charCodeAt(g+4),l=f(l,O),l=v(l,16),l=f(l,M),s^=l;case 4:c^=e.charCodeAt(g+3)<<24;case 3:c^=e.charCodeAt(g+2)<<16;case 2:c^=e.charCodeAt(g+1)<<8;case 1:c^=e.charCodeAt(g),c=f(c,P),c=v(c,15),c=f(c,O),n^=c}return n^=e.length,s^=e.length,i^=e.length,a^=e.length,n+=s,n+=i,n+=a,s+=n,i+=n,a+=n,n=$(n),s=$(s),i=$(i),a=$(a),n+=s,n+=i,n+=a,s+=n,i+=n,a+=n,("00000000"+(n>>>0).toString(16)).slice(-8)+("00000000"+(s>>>0).toString(16)).slice(-8)+("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(a>>>0).toString(16)).slice(-8)};q.x64.hash128=function(e,r){e=e||"",r=r||0;let t=e.length%16,o=e.length-t,n=[0,r],s=[0,r],i=[0,0],a=[0,0],c=[2277735313,289559509],l=[1291169091,658871167],u;for(u=0;u<o;u=u+16)i=[e.charCodeAt(u+4)&255|(e.charCodeAt(u+5)&255)<<8|(e.charCodeAt(u+6)&255)<<16|(e.charCodeAt(u+7)&255)<<24,e.charCodeAt(u)&255|(e.charCodeAt(u+1)&255)<<8|(e.charCodeAt(u+2)&255)<<16|(e.charCodeAt(u+3)&255)<<24],a=[e.charCodeAt(u+12)&255|(e.charCodeAt(u+13)&255)<<8|(e.charCodeAt(u+14)&255)<<16|(e.charCodeAt(u+15)&255)<<24,e.charCodeAt(u+8)&255|(e.charCodeAt(u+9)&255)<<8|(e.charCodeAt(u+10)&255)<<16|(e.charCodeAt(u+11)&255)<<24],i=x(i,c),i=B(i,31),i=x(i,l),n=p(n,i),n=B(n,27),n=A(n,s),n=A(x(n,[0,5]),[0,1390208809]),a=x(a,l),a=B(a,33),a=x(a,c),s=p(s,a),s=B(s,31),s=A(s,n),s=A(x(s,[0,5]),[0,944331445]);switch(i=[0,0],a=[0,0],t){case 15:a=p(a,C([0,e.charCodeAt(u+14)],48));case 14:a=p(a,C([0,e.charCodeAt(u+13)],40));case 13:a=p(a,C([0,e.charCodeAt(u+12)],32));case 12:a=p(a,C([0,e.charCodeAt(u+11)],24));case 11:a=p(a,C([0,e.charCodeAt(u+10)],16));case 10:a=p(a,C([0,e.charCodeAt(u+9)],8));case 9:a=p(a,[0,e.charCodeAt(u+8)]),a=x(a,l),a=B(a,33),a=x(a,c),s=p(s,a);case 8:i=p(i,C([0,e.charCodeAt(u+7)],56));case 7:i=p(i,C([0,e.charCodeAt(u+6)],48));case 6:i=p(i,C([0,e.charCodeAt(u+5)],40));case 5:i=p(i,C([0,e.charCodeAt(u+4)],32));case 4:i=p(i,C([0,e.charCodeAt(u+3)],24));case 3:i=p(i,C([0,e.charCodeAt(u+2)],16));case 2:i=p(i,C([0,e.charCodeAt(u+1)],8));case 1:i=p(i,[0,e.charCodeAt(u)]),i=x(i,c),i=B(i,31),i=x(i,l),n=p(n,i)}return n=p(n,[0,e.length]),s=p(s,[0,e.length]),n=A(n,s),s=A(s,n),n=Ne(n),s=Ne(s),n=A(n,s),s=A(s,n),("00000000"+(n[0]>>>0).toString(16)).slice(-8)+("00000000"+(n[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)};var H=class{constructor(){this.fingerprint="";let r=window.OfflineAudioContext||window.webkitOfflineAudioContext;this.context=new r(1,44100,44100),this.currentTime=this.context.currentTime,this.oscillator=this.context.createOscillator(),this.compressor=this.context.createDynamicsCompressor(),this.setOscillator(),this.setCompressor()}setOscillator(){this.oscillator.type="triangle",this.oscillator.frequency.setValueAtTime(1e4,this.currentTime)}setCompressor(){this.setCompressorValueIfDefined("threshold",-50),this.setCompressorValueIfDefined("knee",40),this.setCompressorValueIfDefined("ratio",12),this.setCompressorValueIfDefined("reduction",-20),this.setCompressorValueIfDefined("attack",0),this.setCompressorValueIfDefined("release",.25)}setCompressorValueIfDefined(r,t){let o=this.compressor[r];o&&typeof o.setValueAtTime=="function"&&o.setValueAtTime(t,this.context.currentTime)}generateFingerprints(r){let t="";for(let o=4500;5e3>o;o++){let n=r.renderedBuffer.getChannelData(0)[o];t+=Math.abs(n)}return t.toString()}run(){return new Promise((r,t)=>d(this,null,function*(){this.oscillator.connect(this.compressor),this.compressor.connect(this.context.destination),this.oscillator.start(0),this.context.oncomplete=o=>{let n=this.generateFingerprints(o);this.compressor.disconnect(),r(n)},yield this.context.startRendering()}))}};var y=class{constructor(r){this.SPLIT_CODE="www.zaobao.com";this.options={canvas:!0,screenResolution:!0};this.options=r}run(){return new Promise((r,t)=>d(this,null,function*(){let o=this.getGPUInfo(),n="";/HeadlessChrome/.test(window.navigator.userAgent)&&(n="headless_chrome_"),navigator.languages.toString()===""&&(n="headless_no_lang_"),o.vendor=="Brian Paul"&&o.render=="Mesa OffScreen"&&(n="headless_no_gpu_");let s=[];if(s.push(navigator.userAgent),s.push(this.getColorGamut()),s.push(this.getDeviceMemory()),s.push(this.getConcurrency()),s.push(this.areColorsForced()),s.push(this.isHDR()),s.push(this.getLanguages()),s.push(this.getIndexedDB()),s.push(this.isMotionReduced()),s.push(o.vendor+this.SPLIT_CODE+o.render),s.push(screen.colorDepth),this.options.screenResolution){let a=y.getScreenResolution();a?s.push(a.join("x")):n="headless_no_screen_resolution_"}let i=yield new H().run();s.push(i),s.push(new Date().getTimezoneOffset()),s.push(this.hasSessionStorage()),s.push(this.hasLocalStorage()),document.body?s.push(typeof document.body.addBehavior):s.push("undefined"),s.push(typeof window.openDatabase),s.push(navigator.cpuClass),s.push(navigator.platform),s.push(navigator.doNotTrack),s.push(this.getPluginsString()),this.options.canvas&&this.isCanvasSupported()&&s.push(this.getCanvasFingerprint()),r(n+q.x86.hash128(s.join(this.SPLIT_CODE),2**5-1))}))}hasLocalStorage(){try{return!!window.localStorage}catch(r){return!0}}hasSessionStorage(){try{return!!window.sessionStorage}catch(r){return!0}}isCanvasSupported(){let r=document.createElement("canvas");return!!(r.getContext&&r.getContext("2d"))}getRegularPluginsString(){return Array.from(navigator.plugins).map(function(r){let t=Array.from(r).map(o=>[o.type,o.suffixes].join("~")).join(",");return[r.name,r.description,t].join("::")}).join(";")}static getScreenResolution(){let r=screen.height,t=screen.width;return r&&t?[screen.height,screen.width]:null}getDeviceMemory(){let r=Number.parseFloat(navigator.deviceMemory||"");return Number.isNaN(r)?void 0:r}isIE(){return navigator.appName==="Microsoft Internet Explorer"?!0:!!(navigator.appName==="Netscape"&&/Trident/.test(navigator.userAgent))}getIEPluginsString(){if(window.ActiveXObject){var r=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return r.map(function(t){try{return new ActiveXObject(t),t}catch(o){return null}}).join(";")}else return""}getPluginsString(){return this.isIE()?this.getIEPluginsString():this.getRegularPluginsString()}getConcurrency(){let r=Number.parseFloat(navigator.hardwareConcurrency.toString());return Number.isNaN(r)?void 0:r}getCanvasFingerprint(){let r=document.createElement("canvas"),t=r.getContext("2d"),o="Welcome to zaobao.com";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(o,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(o,4,17),r.toDataURL()}getGPUInfo(){let t=document.createElement("canvas").getContext("experimental-webgl"),o=t.getExtension("WEBGL_debug_renderer_info");return{vendor:t.getParameter(o.UNMASKED_VENDOR_WEBGL),render:t.getParameter(o.UNMASKED_RENDERER_WEBGL)}}getColorGamut(){for(let r of["rec2020","p3","srgb"])if(matchMedia(`(color-gamut: ${r})`).matches)return r}areColorsForced(){if(matchMedia("(forced-colors: active)").matches)return!0;if(matchMedia("(forced-colors: none)").matches)return!1}isHDR(){if(matchMedia("(dynamic-range: high)").matches)return!0;if(matchMedia("(dynamic-range: standard)").matches)return!1}getLanguages(){let r=navigator,t=[],o=r.language||r.userLanguage||r.browserLanguage||r.systemLanguage;if(o!==void 0&&t.push([o]),Array.isArray(r.languages))this.isChromium()&&this.isChromium86OrNewer()||t.push(r.languages);else if(typeof r.languages=="string"){let n=r.languages;t.push(n.split(","))}return t.join(",")}isChromium(){let r=window,t=navigator;return this.countTruthy(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,t.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in r,"BatteryManager"in r,"webkitMediaStream"in r,"webkitSpeechGrammar"in r])>=5}countTruthy(r){return r.reduce((t,o)=>t+(o?1:0),0)}isChromium86OrNewer(){let r=window;return this.countTruthy([!("MediaSettingsRange"in r),"RTCEncodedAudioFrame"in r,""+r.Intl=="[object Intl]",""+r.Reflect=="[object Reflect]"])>=3}getIndexedDB(){try{return!!window.indexedDB}catch(r){return!0}}isMotionReduced(){if(matchMedia("(prefers-reduced-motion: reduce)").matches)return!0;if(matchMedia("(prefers-reduced-motion: no-preference)").matches)return!1}};function W(e,r=document.location.search){let t=new RegExp("(?:\\?|&)"+e+"=(.*?)(?=&|$)","gi"),o=[],n;for(;(n=t.exec(r))!=null;)o[o.length]=n[1];return o.length?o[0]:null}var de="fp_",I=class extends L{constructor(t){super(t);this.version="1.0.0";this.Storage=Ce}setup(){return this.execute(),this}execute(){return d(this,null,function*(){return new Promise((t,o)=>d(this,null,function*(){let n=(yield Ce.get(de))||W(de,window.name)||(yield new y({canvas:!0,screenResolution:!0}).run());window.name=`?${de}=${n}`,yield this.Storage.set(de,n),t(n)}))})}};I.NAME="footprint";var X=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o,n){return d(this,null,function*(){if(typeof this.ctx.getters[t]=="function")return o(yield this.ctx.getters[t](n));throw Error(`Can't find command:[${t}]!`)})}};X.NAME="get";var K=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,o,n){return d(this,null,function*(){var s,i;switch(t){case"global":this.ctx.setters.globalConfig(o);break;case"page":(s=this.ctx.getters.instance(n))==null||s.setPageConfig(o);break;case"auto":(i=this.ctx.getters.instance(n))==null||i.setAutomaticallyData(o);break}})}};K.NAME="set";var _=class extends L{constructor(t){super(t);this.version="1.0.0"}setup(){return this}execute(){return d(this,null,function*(){var T;let{domainLookupEnd:t,domainLookupStart:o,connectEnd:n,connectStart:s,redirectStart:i,redirectEnd:a,responseStart:c,responseEnd:l,requestStart:u,domContentLoadedEventEnd:m,domContentLoadedEventStart:P,startTime:O,loadEventEnd:M}=typeof window.performance.getEntriesByType=="function"?window.performance.getEntriesByType("navigation")[0]:window.performance.timing;return{ga_id:(yield new F().get("_ga"))||"",ua:navigator.userAgent,referrer:document.referrer,resolution:(T=y.getScreenResolution())==null?void 0:T.join("x"),url:location.href,geoid:"",host:location.host,path:location.pathname,title:document.title,page_load_time:M-(O||0),page_download_time:l-c,redirect_time:a-i,tcp:n-s,dns:t-o,serve_response_time:c-u,content_load_time:m-P,browser_view_type:Te?"mobile":"desktop"}})}};_.NAME="measurement";var mt=class{constructor(e){this.DomRefs=[],this.clientSize={width:innerWidth,height:innerHeight},this.options=e}setClientSize(e){this.clientSize=e}getRefs(){return this.DomRefs}unobserve(e){this.DomRefs.splice(e,1)}isIntersecting(e,r){let{width:t,height:o,left:n,top:s}=e,{left:i,top:a}=r,{threshold:c}=this.options,{width:l,height:u}=this.clientSize;return(u-s+a)*(l-n+i)>o*t*c}interSectionChecking(e,r,t){e!==t.isIntersecting&&(t.isIntersecting=e,t.element.callback.call(null,e,()=>{this.unobserve(r)},...arguments))}onScroll(e){this.DomRefs.map((r,t)=>{let o=this.isIntersecting(r.element.getBoundingClientRect(),e);this.interSectionChecking(o,t,r)})}observe(e){let r=this.isIntersecting(e.getBoundingClientRect(),{left:0,top:0}),t={element:e,isIntersecting:void 0};this.DomRefs.push(t),this.interSectionChecking(r,this.DomRefs.length-1,t)}stop(){this.DomRefs=[]}};function Ue(e){return Array.isArray(e)||e instanceof HTMLCollection?Array.from(e):[e]}var ke=class{constructor(e={threshold:.3}){let r=(t,o)=>{t.map(n=>{let{target:s,isIntersecting:i}=n;s.callback.call(null,i,()=>o.unobserve(s),...arguments)})};this.Observer=new IntersectionObserver(r,e),this.ScrObserver=new mt(e)}observe(e,r){e.callback=r,this.Observer.observe(e)}scrollEventHandler(e={left:0,top:0}){this.ScrObserver.onScroll(e)}observeByScroll(e,r){e.callback=r,this.ScrObserver.observe(e)}unobserve(e){Ue(e).map(r=>this.Observer.unobserve(r))}unobserveByScroll(e){Ue(e).map(r=>{let t=this.ScrObserver.getRefs().findIndex(({element:o})=>o===r);t>=0&&this.ScrObserver.unobserve(t)})}setClientSize(e){this.ScrObserver.setClientSize(e)}stopByScroll(){this.ScrObserver.stop()}stop(){this.Observer.disconnect()}};var V=class extends z{constructor(){super();this.version="1.0.0";this.exposure=new ke}observe(t,o){let n;this.exposure.observe(t,(s,i)=>{s?n=setTimeout(()=>{o(s,i)},500):(clearTimeout(n),o(s,i))})}};V.NAME="exposure";var Y=class extends h{constructor(t){super(t);this.version="1.0.0"}execute(t,...o){return d(this,null,function*(){let[n,s]=t.split(":"),i=this.ctx.plugins[n];if(i)return yield i[s](...o);throw Error(`Can't find plugin:[${n}]!`)})}};Y.NAME="plugin";var R="default",xe=class{constructor(){this.version="1.0.0";this.globalConfig={api_version:"1.0.0",api_secret:"",user_id:"",api_host:""};this.instances={};this.plugins={};this.executor=new J(this);this.setters={globalConfig:r=>{this.globalConfig=D(this.globalConfig,r)}};this.getters={config:r=>{let t=this.getters.instance(r);if(!t)throw Error(`Can't find instance tracking ID:${r}`);return S({},t.config)},instance:r=>{var o;let t=!r||((o=this.instances[R])==null?void 0:o.trackingId)===r?R:r;return this.instances[t]},plugin:r=>{if(!r)throw Error("The plugin name can not be null!");return this.plugins[r]},globalConfig:()=>this.globalConfig,clientId:()=>d(this,null,function*(){return yield this.core.plugins[I.NAME].execute()}),measurement:()=>d(this,null,function*(){return yield this.core.plugins[_.NAME].execute()}),automaticallyData:r=>d(this,null,function*(){let t=this.getters.instance(r);if(!t)throw Error(`Can't find instance tracking ID:${r}`);return S({},t.automaticallyData)})};this.registerCommand(j),this.registerCommand(N),this.registerCommand(U),this.registerCommand(k),this.registerCommand(G),this.registerCommand(X),this.registerCommand(K),this.registerCommand(Y),this.core={plugins:{[_.NAME]:new _(this).setup(),[I.NAME]:new I(this).setup()}},this.registerPlugin(V)}bootstrap(){return d(this,null,function*(){return yield Re(this),this})}registerPlugin(r,t){this.plugins[r.NAME]=new r(t)}registerCommand(r){let t=new r(this);this.executor.addCommand(r.NAME,t)}autoTasks(){Object.keys(this.instances).map(r=>{this.instances[r].run()})}};function Ge(){return d(this,null,function*(){return new xe().bootstrap()})}window.ctag.q=window.ctag.q||[];window.ctag=window.ctag||function(...e){window.ctag.q.push(e)};if(document.currentScript){let e=document.currentScript.src;if(e){let r=W("id",e);if(r){let t={};["screen_view","stay_duration","exception_report","disable"].map(n=>{try{let s=W(n,e);s&&(t[n]=JSON.parse(s))}catch(s){throw Error(`The param [${n}]'s value is not boolean type!`)}});let o=[["create",r,t]];window.ctag.ad&&typeof window.ctag.ad=="object"&&o.push(["set","auto",window.ctag.ad]),window.ctag.q.unshift(...o)}}}Q(window,"load",()=>{Ge().then(e=>{window.ctag.ctx=e,e.autoTasks()})});
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
